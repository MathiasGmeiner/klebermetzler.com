---
import type { Layout, Block as BlockType } from "@/types";
import BlockFallback from "@/blocks/BlockFallback.astro";
import BlockText from "@blocks/BlockText.astro";
import BlockHighlight from "@blocks/BlockHighlight.astro";
import BlockVideo from "@blocks/BlockVideo.astro";
const layout: Layout = Astro.props.layout;
const items: BlockType[] = Astro.props.blocks;

const blocks = {
  text: BlockText,
  highlight: BlockHighlight,
  video: BlockVideo,
};
---

{
  items.map((block) => {
    const Block = blocks[block.type] || BlockFallback;
    return <Block {...block} layout={layout} />;
  })
}
